---
title: 字符编码与字符集
date: 2020-11-12 19:49:27
tags:
---

# 字符编码与字符集

乱码，是每个程序猿都头疼的问题，今天就来了解一下字符集和字符编码的问题。

1. 什么是字符集

   ​		字符集是规定了某个文字对应的二进制数字存放方式，和某串二级制数值代表了那个文字。其实在我们生活中，字符集就相当于每个国家的不同语言，比如英语，汉语，日语。对于一个字符集来说要正确编码转码一个字符需要三个关键元素：字库表、编码字符集、字符编码。

   ​		字库表相当于某种语言的字典。

   ​		编码字符集相当于字典中的页码，他代表一个字符在字库中的位置。

   ​		字符编码是将编码字符集和实际存储值之间的转换关系。

   常见的字符集有：ASCII字符集，GBK字符集、GB18030字符集、Big5字符集、Unicode字符集

2. 什么是字符编码

   ​		字符编码是一种映射规则，根据这个映射规则将没某个字符映射成其他形式的数据，以便在计算机中储存。

   ​		例如：在ASCII中`A`在表中排第`65`位，而编码后`A`的数值是`0100 0001`，也是十进制的`65`的二进制转换结果。

3. `UTF-8`和`Unicode`的关系

   ​		现在互联网发展迅速，所以迫切需要一个统一字符集，`Unicode`就诞生了，它几乎包含了所有国家语言可能出现的符号和文字，容纳了100多万个符号，`U+0639`表示阿拉伯字母`Ain`，`U+0041`表示英语的大写字母`A`，`U+4E25`表示汉字“严”。

   ​		有了统一的字符集，自然需要一个统一的编码方式，，`UTF-8`就是在互联网上使用最广的一种编码方式。它是一种边长的编码方式，他可以使用1~4个字节表示一个符号，根据不同的符号而变化字节长度

4. 为什么出现乱码

   ​		你可以想象一个场景，将一个汉字用拼音编码，给一个英国人后，英国人用英文解码所看到的信息就相当于乱码。，因为编码编码解码的方式不同，所看到的结果也就不同。

5. Emoji表情

   ​		`Emoji`就是一种在`Unicode`位于`\u1F601`-`\u1F64F`区段的字符。这个显然超过了目前常用的`UTF-8`字符集的编码范围`\u0000`-`\uFFFF`。

   ​		Emoji表情随着IOS和普及和微信的支持越来越常见，而表情给开发运维带来的影响，就在于入库的时候，会报各种错误。不过在`MySQL5.5.3`版本后，要在 `Mysql `中保存 4 字节长度的 `UTF-8 `字符，就可以使用 `utf8mb4` 字符集了。例如可以用`utf8mb4`字符编码直接存储`Emoji`表情，而不是存表情的替换字符。